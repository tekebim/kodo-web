{% extends '@EasyAdmin/layout.html.twig' %}

{% block main %}
    <div class="container">
        <h1>Mes widgets ({{ widgets|length }}) {% if is_premium %}PRO{% else %}[version gratuite]{% endif %}</h1>

        <table class="table table-striped">

            <thead>
            <th>Nom du widget</th>
            <th>Numéro de widget</th>
            <th>Token sécurité</th>
            <th>Date d'ajout</th>
            <th>Actions</th>
            </thead>

            <tbody>
            <tr data-toggle="collapse" data-target="#demo1" class="accordion-toggle">
                <td>
                    <button class="btn btn-default btn-xs"><span class="glyphicon glyphicon-eye-open"></span></button>
                </td>
                <td>Carlos</td>
                <td>Mathias</td>
                <td>Leme</td>
                <td>SP</td>
                <td>new</td>
            </tr>

            <tr>
                <td colspan="12" class="hiddenRow">
                    <div class="accordian-body collapse" id="demo1">
                        <table class="table table-striped">
                            <thead>
                            <tr class="info">
                                <th>Job</th>
                                <th>Company</th>
                                <th>Salary</th>
                                <th>Date On</th>
                                <th>Date off</th>
                                <th>Action</th>
                            </tr>
                            </thead>

                            <tbody>

                            <tr data-toggle="collapse" class="accordion-toggle" data-target="#demo10">
                                <td><a href="#">Enginner Software</a></td>
                                <td>Google</td>
                                <td>U$8.00000</td>
                                <td> 2016/09/27</td>
                                <td> 2017/09/27</td>
                                <td>
                                    <a href="#" class="btn btn-default btn-sm">
                                        <i class="glyphicon glyphicon-cog"></i>
                                    </a>
                                </td>
                            </tr>

                            <tr>
                                <td colspan="12" class="hiddenRow">
                                    <div class="accordian-body collapse" id="demo10">
                                        <table class="table table-striped">
                                            <thead>
                                            <tr>
                                                <td><a href="#"> XPTO 1</a></td>
                                                <td>XPTO 2</td>
                                                <td>Obs</td>
                                            </tr>
                                            <tr>
                                                <th>item 1</th>
                                                <th>item 2</th>
                                                <th>item 3</th>
                                                <th>item 4</th>
                                                <th>item 5</th>
                                                <th>Actions</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>item 1</td>
                                                <td>item 2</td>
                                                <td>item 3</td>
                                                <td>item 4</td>
                                                <td>item 5</td>
                                                <td>
                                                    <a href="#" class="btn btn-default btn-sm">
                                                        <i class="glyphicon glyphicon-cog"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>

                                    </div>
                                </td>
                            </tr>

                            <tr>
                                <td>Scrum Master</td>
                                <td>Google</td>
                                <td>U$8.00000</td>
                                <td> 2016/09/27</td>
                                <td> 2017/09/27</td>
                                <td><a href="#" class="btn btn-default btn-sm">
                                        <i class="glyphicon glyphicon-cog"></i>
                                    </a>
                                </td>
                            </tr>


                            <tr>
                                <td>Back-end</td>
                                <td>Google</td>
                                <td>U$8.00000</td>
                                <td> 2016/09/27</td>
                                <td> 2017/09/27</td>
                                <td><a href="#" class="btn btn-default btn-sm">
                                        <i class="glyphicon glyphicon-cog"></i>
                                    </a>
                                </td>
                            </tr>


                            <tr>
                                <td>Front-end</td>
                                <td>Google</td>
                                <td>U$8.00000</td>
                                <td> 2016/09/27</td>
                                <td> 2017/09/27</td>
                                <td><a href="#" class="btn btn-default btn-sm">
                                        <i class="glyphicon glyphicon-cog"></i>
                                    </a>
                                </td>
                            </tr>


                            </tbody>
                        </table>

                    </div>
                </td>
            </tr>

            {% for widget in widgets %}
                <tr>
                    <td>
                        <p>{{ widget.name }}</p>
                    </td>
                    <td>
                        <p>{{ loop.index }} {% if not is_premium %}/ 3{% endif %}</p>
                    </td>
                    <td>
                        <p>{{ widget.token }}</p>
                    </td>
                    <td>
                        <p>{{ widget.domainAllowed }}</p>
                    </td>
                </tr>
                <tr>
                    <td colspan="5">
                        <textarea class="full w-100">
                            <iframe src="http://localhost:8080/widget?id={{ widget.id }}&token={{ widget.token }}&style=compact" width="100%" frameborder="0" height="500"/>
                        </textarea>
                    </td>
                </tr>
            {% endfor %}

            </tbody>
        </table>

        <div class="my-3">
            <div class="alert alert-danger" role="alert">
                Passez en version Pro pour augmenter le nombre de domaines disponibles (<strong>{{ widgets|length }}
                    /3</strong>)
            </div>
        </div>

        <div class="container">
            <div class="columns">
                <div class="column is-6-desktop">
                    <a href="{{ url_new_widget }}" class="btn btn-primary">Créer un widget</a>
                </div>
                <div class="column is-6-desktop">
                    {% if is_premium %}
                        <a href="{{ url_new_widget }}"
                           class="btn btn-primary">Ajouter un domaine</a>
                    {% else %}
                        <a href="#" id="btn-add-subdomain" class="btn btn-primary disabled" data-toggle="tooltip"
                                data-placement="bottom" title="Cette option n'est disponible qu'avec la version Pro">
                            Ajouter un domaine
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
